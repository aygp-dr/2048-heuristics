#!/usr/local/bin/bash
# Generate visualization plots from analysis results

set -e

# Make sure we're in the project directory
SCRIPT_DIR="$(dirname "$(readlink -f "$0")")"
PROJ_DIR="$(dirname "$SCRIPT_DIR")"
cd "$PROJ_DIR"

# Check if gnuplot is available
if ! command -v gnuplot >/dev/null 2>&1; then
    echo "Error: gnuplot is required for plot generation"
    echo "Please install gnuplot to generate visualizations"
    exit 1
fi

echo "Generating 2048 Strategy Analysis Plots"
echo "======================================="

# Check if plot script exists
if [ -f "plot-results.gp" ]; then
    echo "Running gnuplot to generate visualizations..."
    gnuplot plot-results.gp
    
    # Check if plots were created
    if [ -f "strategy-comparison.png" ]; then
        echo "âœ“ Generated strategy-comparison.png"
    else
        echo "Warning: strategy-comparison.png was not created"
    fi
    
    echo "Plot generation complete!"
else
    echo "Error: plot-results.gp not found"
    exit 1
fi