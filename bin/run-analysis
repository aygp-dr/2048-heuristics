#!/usr/local/bin/bash
# Run 2048 Strategy Analysis
# This is a more efficient version that runs the strategy analysis script

set -e  # Exit on error

# Make sure we're in the project directory
SCRIPT_DIR="$(dirname "$(readlink -f "$0")")"
PROJ_DIR="$(dirname "$SCRIPT_DIR")"
cd "$PROJ_DIR"

echo "2048 Heuristic Strategy Analysis"
echo "================================"
echo

# Check if guile is installed
if ! command -v guile &> /dev/null; then
    echo "Error: GNU Guile is not installed or not in PATH"
    echo "Please install Guile 3.0+ to run this analysis"
    exit 1
fi

# Run the strategy analysis (more efficient than distribution analysis)
echo "Running strategy analysis..."
if [ -f "strategy-analysis.scm" ]; then
    ./strategy-analysis.scm
else
    echo "Error: strategy-analysis.scm not found"
    exit 1
fi

echo
echo "Analysis complete!"
echo "Check the generated results files for detailed statistics."